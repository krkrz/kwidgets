# KValueEntity

KValueEntity は「値」を持つウィジェットのベースとなるクラスです。

永続化辞書とのバインド、値の親への通知などの機能を持ちます。

**value** プロパティを継承クラスで実装することで、以下の機能が使えるようになります。

1. **永続化辞書とのバインド**

   永続化辞書とバインドされたタイミングで**value**の値を辞書から読み出し、
   アンバインドされたタイミングで辞書に書き戻すようになります。

   なお、辞書のキーはウィンドウの**name**プロパティとウィジェットの**name**プロパティから生成されるので、
   **name**が指定されていないウィジェットではバインドは行われません。

2. **dispatch() による値の通知。**

   任意のタイミングで、**dispatch**() を実行することによって現在の「値」を
   **onValueModified**() フックに通知することができます。

   通知された「値の更新」イベントは、
   階層中のウィジェットが食い取らない限り、
   **onChildValueModified()**フックを通じて順次親ウィジェットへ転送されていきます。

   なお、nodeEnabled = false の状態では、**dispatch**() を実行しても
   通知は行われません。
 

## 親クラス

**KValueEntity** -> [KEntity](KEntity.md) -> [KWidget](KWidget.md)

## コンストラクタ
```KValueEntity(window, options = %[])```

## プロパティ

- **value**
  - 値をあらわすプロパティ  
	継承クラスで適切に実装する必要があります。

## メソッド
- **dispatch**();
  - 現在の「値」を **onValueModifed**() フックに通知します。

